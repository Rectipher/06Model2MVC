<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:mvc="http://www.springframework.org/schema/mvc"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="
         http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
         http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
         http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd">

  <!-- 1) Find @Controller classes (cover both package styles used in your projects) -->
  <context:component-scan base-package="com.model2.mvc.web,spring.web">
    <context:include-filter type="annotation" expression="org.springframework.stereotype.Controller"/>
    <context:exclude-filter type="annotation" expression="org.springframework.stereotype.Service"/>
    <context:exclude-filter type="annotation" expression="org.springframework.stereotype.Repository"/>
  </context:component-scan>

  <!-- 2) Register handler mapping + adapter for @RequestMapping -->
  <mvc:annotation-driven/>

  <!-- 3) Interceptor (pick the one that actually exists in your WAR) -->
  <mvc:interceptors>
    <!-- If your interceptor is under com.model2... use this: -->
    <bean class="com.model2.mvc.common.web.LogonCheckInterceptor"/>
    <!-- If itâ€™s actually under spring.common.web, comment the above and use: -->
    <!-- <bean class="spring.common.web.LogonCheckInterceptor"/> -->
  </mvc:interceptors>

  <!-- 4) ViewResolver (ok to keep empty if you return full JSP paths) -->
  <bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver"/>
  
  <!-- 5) (Optional) Exception resolver exactly as you had -->
  <bean id="exceptionResolver" class="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver">
    <property name="exceptionMappings">
      <props>
        <prop key="java.lang.NullPointerException">/common/nullError.jsp</prop>
        <prop key="java.lang.NumberFormatException">/common/numberFormatError.jsp</prop>
      </props>
    </property>
    <property name="defaultErrorView" value="/common/error.jsp"/>
  </bean>
</beans>
